if (<%= obj_has_errors(@trigger) %> == 1) {
	$('#modal').modal('hide'); 	
	$('#modal').on('hidden.bs.modal', function (e) {
		<% if obj_has_errors(@trigger) == 1 %>
		  <%= return_js_for_edit_modal('triggers',{:trigger => @trigger}).html_safe %>
	  <% end %>
		$('#modal').modal('show'); 
	})	
}
else {
	$('#modal').modal('hide');
	// Replace table with new table
	<% #return_js_for_replacing_collection_partial("#triggers-table-body",@triggers).html_safe %>
	$('#triggers-table > tbody > tr:first').before("<%= escape_javascript(render @trigger).html_safe %>");
}

<%= render 'shared/common_js' %>